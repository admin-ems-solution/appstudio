<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ª£p ƒê·ªìng Cung C·∫•p D·ªãch V·ª•</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    
   <style>
    @import url('https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;700&display=swap');
    :root {
        --page-width: 190mm; 
        --main-padding: 10pt;
        --dynamic-data-color: #0d6efd; 
    }
    body { font-family: 'Be Vietnam Pro', sans-serif; font-size: 9pt; line-height: 1.35; color: #212529; background-color: #f0f2f5; margin: 0; padding: 0; }
    
    .actions-container { 
        position: sticky; top: 0; display: flex; justify-content: flex-end; align-items: center;
        width: 100%; background-color: #343a40; padding: 8px 20px; box-sizing: border-box;
        z-index: 2000; box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }

    .actions-container .dropdown { position: relative; display: inline-block; margin-left: 10px; }
    .actions-container .dropdown-btn { background-color: #0d6efd; color: white; border: none; padding: 8px 16px; border-radius: 5px; font-size: 14px; font-weight: 500; cursor: pointer; }
    .actions-container .dropdown-btn.download-btn { background-color: #198754; }
    .actions-container .dropdown-content {
        display: none; position: absolute; right: 0; background-color: #f1f1f1; min-width: 200px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2); z-index: 1; border-radius: 5px;
    }
    .actions-container .dropdown-content a {
        color: black; padding: 12px 16px; text-decoration: none; display: block; font-size: 14px;
    }
    .actions-container .dropdown-content a:hover { background-color: #ddd; }
    .actions-container .dropdown-content.show { display: block; }

    .page-wrapper { display: flex; justify-content: center; padding: 20px 0; }
    .a4-page { 
        width: var(--page-width); 
        background-color: white; 
        margin: 0 auto; 
        box-shadow: 0 0 15px rgba(0,0,0,0.1);
        box-sizing: content-box;
    }
    #print-container { width: 100%; border-collapse: collapse; table-layout: fixed; }
    #page-header, #page-footer { height: 1px; }
    .header-content, .footer-content, .main-content { padding: var(--main-padding); box-sizing: border-box; }
    .main-content { padding-top: 0; padding-bottom: 0; }
    .footer-content { 
        padding-top: 10px; 
        text-align: right; 
        font-size: 9pt; 
        color: #6c757d; 
        border-top: 1px solid #dee2e6;
    }
    .dynamic-data { color: var(--dynamic-data-color); font-weight: 500; }

    .header-content { padding: 25px var(--main-padding); } 
    .header-content .header { display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid #dee2e6; padding-bottom: 15px; }
    .header-left { display: flex; align-items: center; }
    .header-content .logo { width: 65px; height: 65px; flex-shrink: 0; }
    #contract-qr-container { width: 65px; height: 65px; flex-shrink: 0; }
    #contract-qr-container img { width: 100%; height: 100%; display: block; }
    .studio-info { padding-left: 15px !important; }
    .studio-info h2 { font-size: 12pt; margin: 0; }
    .studio-info p { font-size: 8.5pt; line-height: 1.3; margin: 0; }

    .main-title { text-align: center; font-size: 18pt; font-weight: 700; margin: 10px 0 5px 0; text-transform: uppercase; }
    .contract-meta { text-align: center; font-style: italic; color: #555; margin-bottom: 15px; }
    table { width: 100%; border-collapse: collapse; margin-bottom: 15px; font-size: 9pt; }
    th, td { border: 1px solid #dee2e6; padding: 6px 8px; text-align: left; vertical-align: top; word-break: break-word; }
    th { background-color: #e9ecef; font-weight: 700; text-align: center; }
    
    .price-cell {
        white-space: nowrap;
        text-align: right !important;
    }

    .summary-and-payment { display: flex; justify-content: space-between; align-items: stretch; margin-top: 5px; margin-bottom: 20px; page-break-inside: avoid; }
    .qr-payment-section { width: 58%; border: 1px solid #e9ecef; padding: 15px; border-radius: 5px; box-sizing: border-box;}
    .qr-payment-content { display: flex; align-items: center; text-align: left; height: 100%;}
    .qr-code { width: 140px; height: 140px; flex-shrink: 0; margin-right: 15px; display: flex; justify-content: center; align-items: center; }
    .qr-code img { max-width: 100%; height: auto; border: 1px solid #ccc; display: block; }
    .payment-instructions p { margin: 4px 0; font-size: 9pt; }
    
    .summary-section { width: 40%; border: 1px solid #e9ecef; padding: 15px; border-radius: 5px; box-sizing: border-box; }
    .summary-section .summary-table { margin-bottom: 0; }
    .summary-table td { padding: 4px 8px; }
    .summary-table .highlight-red { color: #dc3545; font-weight: 700; }
    
    .terms-section { margin-top: 15px; border-top: 1px solid #dee2e6; padding-top: 10px; }
    .print-block { page-break-inside: avoid; margin-top: 15px; }
    .print-block h3 { font-size: 11pt; font-weight: 700; margin: 0 0 5px 0; }
    .print-block p, .print-block li { 
        margin-bottom: 4px;
        text-align: justify;
    }
    .print-block ul { padding-left: 20px; list-style-type: none; margin-block-start: 0; margin-block-end: 0; }
    .print-block ul li::before { content: "- "; }
    .signature-block { display: flex; justify-content: space-around; text-align: center; margin-top: 40px; padding-top: 15px; border-top: 1px solid #dee2e6; page-break-before: auto; }
    .signature-block p {
        text-align: center;
    }
    .signature-block .name { margin-top: 60px; font-weight: 700; }

    @media print {
        body { background: none; }
        .actions-container { display: none !important; }
        .page-wrapper { padding: 0; }
        .a4-page {
            box-shadow: none;
            border: none;
            margin: 0;
            width: 100%;
        }
        @page { 
            size: A4;
            margin: 10mm;
        }
        #print-container { display: table; width: 100%; }
        #page-header { display: table-row-group; }
        #page-footer { display: table-footer-group; }
    }
</style>
</head>
<body>
    <div class="actions-container">
        <div class="dropdown">
            <button id="print-dropdown-btn" class="dropdown-btn">üñ®Ô∏è In H·ª£p ƒê·ªìng ‚ñæ</button>
            <div id="print-dropdown-content" class="dropdown-content">
                <a href="#" id="print-service-action">H·ª£p ƒë·ªìng D·ªãch v·ª•</a>
                <a href="#" id="print-dress-action">H·ª£p ƒë·ªìng V√°y</a>
                <a href="#" id="print-family-action">H·ª£p ƒë·ªìng Baby & Gƒê</a>
            </div>
        </div>
        <div class="dropdown">
            <button id="download-dropdown-btn" class="dropdown-btn download-btn">üìÑ T·∫£i v·ªÅ PDF ‚ñæ</button>
            <div id="download-dropdown-content" class="dropdown-content">
                <a href="#" id="download-service-action">H·ª£p ƒë·ªìng D·ªãch v·ª•</a>
                <a href="#" id="download-dress-action">H·ª£p ƒë·ªìng V√°y</a>
                <a href="#" id="download-family-action">H·ª£p ƒë·ªìng Baby & Gƒê</a>
            </div>
        </div>
    </div>
    <div class="page-wrapper">
        <div class="a4-page" id="a4-page-content">
            <table id="print-container">
                <thead id="page-header"><tr><td><div class="header-content"></div></td></tr></thead>
                <tbody><tr><td><div class="main-content"></div></td></tr></tbody>
                <tfoot id="page-footer"><tr><td><div class="footer-content"><span class="page-number"></span></div></td></tr></tfoot>
            </table>
        </div>
    </div>
    
    <script>
        let globalServiceData = []; 

        const CONTRACT_TERMS_SERVICE = `
            <div class="print-block">
                <h3>H√¨nh th·ª©c thanh to√°n:</h3>
                <ul><li>L·∫ßn 1 : 20% ( ƒë·∫∑t c·ªçc )</li><li>L·∫ßn 2 : 70% (cu·ªëi bu·ªïi ch·ª•p h√¨nh)</li><li>L·∫ßn 3 : 10% ( khi nh·∫≠n ·∫£nh in )</li></ul>
                <p><strong>Ph∆∞∆°ng th·ª©c thanh to√°n:</strong> Chuy·ªÉn kho·∫£n ho·∫∑c Ti·ªÅn m·∫∑t</p>
                <p><strong>Hai b√™n th·ªëng nh·∫•t k√Ω h·ª£p ƒë·ªìng v·ªõi nh·ªØng ƒëi·ªÅu kho·∫£n nh∆∞ sau:</strong></p>
            </div>
            <div class="print-block">
                <h3>ƒêi·ªÅu 1: Tr√°ch nhi·ªám v√† quy·ªÅn l·ª£i c·ªßa c√°c B√™n</h3>
                <p><strong>1.1. Tr√°ch nhi·ªám v√† quy·ªÅn l·ª£i c·ªßa b√™n A:</strong></p>
                <ul><li>B√™n A c√≥ tr√°ch nhi·ªám thanh to√°n cho B√™n B ph√≠ d·ªãch v·ª• ƒë√∫ng h·∫°n theo h√¨nh th·ª©c thanh to√°n n√™u tr√™n.</li><li>B√™n A ƒë∆∞·ª£c nh·∫≠n to√†n b·ªô s·∫£n ph·∫©m theo ph·∫ßn chi ti·∫øt c·ªßa h·ª£p ƒë·ªìng n√†y.</li><li>Tr∆∞·ªùng h·ª£p b√™n A h·ªßy h·ª£p ƒë·ªìng s·∫Ω m·∫•t to√†n b·ªô ti·ªÅn ƒë·∫∑t c·ªçc.</li><li>B√™n A ƒë∆∞·ª£c quy·ªÅn ho√£n ch·ª•p h√¨nh (quay video) 01 l·∫ßn m√† kh√¥ng b·ªã t√≠nh ph√≠ nh∆∞ng ph·∫£i b√°o tr∆∞·ªõc cho b√™n B mu·ªôn nh·∫•t 3 ng√†y tr∆∞·ªõc ng√†y ch·ª•p.</li><li>N·∫øu b√™n A ti·∫øp t·ª•c ph√°t sinh vi·ªác ho√£n l·ªãch th√¨ s·∫Ω ch·ªãu chi ph√≠ ph√°t sinh: 1.000.000 VND/l·∫ßn.</li><li>B√™n A ƒë∆∞·ª£c quy·ªÅn ho√£n ch·ª•p h√¨nh 01 l·∫ßn v√†o ng√†y ch·ª•p trong tr∆∞·ªùng h·ª£p kh√°ch quan th·ªùi ti·∫øt x·∫•u, tuy nhi√™n B√™n A ph·∫£i thanh to√°n c√°c chi ph√≠ c·ªë ƒë·ªãnh ƒë√£ ph√°t sinh trong ng√†y n√†y - VD: Hoa tay, thu√™ xe, trang ƒëi·ªÉm.</li><li>B√™n A t·ª± ch·ªãu tr√°ch nhi·ªám v·ªÅ an to√†n c√° nh√¢n trong qu√° tr√¨nh ch·ª•p ·∫£nh, quay phim.</li><li>Tr∆∞·ªùng h·ª£p b√™n A h·ªßy h·ª£p ƒë·ªìng sau khi ch·ª•p ƒë√£ copy to√†n b·ªô file g·ªëc s·∫Ω kh√¥ng nh·∫≠n l·∫°i ƒë∆∞·ª£c ti·ªÅn thanh to√°n 2 l·∫ßn ƒë·∫∑t c·ªçc.</li><li>Tr∆∞·ªùng h·ª£p b√™n A mu·ªën copy file Raw, s·∫Ω thanh to√°n h·∫øt ph√≠ d·ªãch v·ª•.</li></ul>
                <p><strong>1.2. Tr√°ch nhi·ªám v√† quy·ªÅn l·ª£i c·ªßa B√™n B:</strong></p>
                <ul><li>B√™n B c√≥ tr√°ch nhi·ªám th·ª±c hi·ªán ƒë·∫ßy ƒë·ªß c√°c n·ªôi dung nghi·ªáp v·ª• t∆∞∆°ng ·ª©ng v·ªõi c√°c d·ªãch v·ª• k√Ω k·∫øt, ƒë∆∞·ª£c ni√™m y·∫øt c√¥ng khai k√®m theo b√°o gi√°.</li><li>B√™n B ƒë·∫£m b·∫£o th·ª±c hi·ªán h·ª£p ƒë·ªìng n√†y v·ªõi ch·∫•t l∆∞·ª£ng cao v√† nhi·ªát t√¨nh v·ªõi c√¥ng vi·ªác, ƒë√∫ng nguy√™n t·∫Øc minh b·∫°ch, trung th·ª±c, uy t√≠n, kh√°ch quan v√† b√≠ m·∫≠t v·ªÅ th√¥ng tin c√° nh√¢n c·ªßa kh√°ch h√†ng.</li></ul>
            </div>
            <div class="print-block">
                <h3>ƒêi·ªÅu 2: Cam k·∫øt th·ª±c hi·ªán</h3>
                <ul><li>Hai b√™n cam k·∫øt th·ª±c hi·ªán t·∫•t c·∫£ c√°c ƒëi·ªÅu kho·∫£n ƒë√£ ghi trong h·ª£p ƒë·ªìng.</li><li>Trong qu√° tr√¨nh th·ª±c hi·ªán n·∫øu g·∫∑p kh√≥ khƒÉn hai B√™n ph·∫£i k·ªãp th·ªùi th√¥ng b√°o cho nhau, c·∫ßn thi·∫øt th√¨ trao ƒë·ªïi b·∫±ng vƒÉn b·∫£n t√¨m gi·∫£i ph√°p th√≠ch h·ª£p.</li></ul>
                <p>H·ª£p ƒë·ªìng n√†y ƒë∆∞·ª£c l·∫≠p th√†nh 02 b·∫£n c√≥ gi√° tr·ªã nh∆∞ nhau, B√™n A gi·ªØ 01 b·∫£n, B√™n B gi·ªØ 01 b·∫£n v√† c√≥ hi·ªáu l·ª±c k·ªÉ t·ª´ ng√†y k√Ω h·ª£p ƒë·ªìng, cho ƒë·∫øn khi b√™n B ho√†n th√†nh c√°c d·ªãch v·ª• quy ƒë·ªãnh t·∫°i ƒêi·ªÅu 1 v√† B√™n A thanh to√°n xong ph√≠ d·ªãch v·ª• cho B√™n B th√¨ h·ª£p ƒë·ªìng n√†y xem nh∆∞ ƒë∆∞·ª£c thanh l√Ω ho·∫∑c c·∫£ hai b√™n c√πng th·ªëng nh·∫•t ch·∫•m d·ª©t h·ª£p ƒë·ªìng b·∫±ng vƒÉn b·∫£n.</p>
                <ul><li>C√°c ƒëi·ªÅu kho·∫£n d·ªãch v·ª• ƒë∆∞·ª£c s·ª≠ d·ª•ng trong v√≤ng 1 nƒÉm t√≠nh t·ª´ ng√†y k√Ω h·ª£p ƒë·ªìng.</li></ul>
            </div>
            <div class="signature-block print-block">
                <div class="customer-signature"><p style="font-weight: 700;">Kh√°ch h√†ng</p><p style="font-size: 9pt; color: #6c757d; font-style: italic;">(K√Ω v√† ghi h·ªç t√™n)</p><p class="name" id="customer-signature-name" class="dynamic-data"></p></div><div class="staff-signature"><p style="font-weight: 700;">Nh√¢n vi√™n t∆∞ v·∫•n</p><p style="font-size: 9pt; color: #6c757d; font-style: italic;">(K√Ω v√† ghi h·ªç t√™n)</p><p class="name" id="staff-signature-name" class="dynamic-data"></p></div><div class="studio-signature"><p style="font-weight: 700;" id="studio-signature-name-top"></p><p style="font-size: 9pt; color: #6c757d; font-style: italic;">(K√Ω v√† ghi h·ªç t√™n)</p><p class="name" id="studio-signature-name-bottom"></p></div>
            </div>`;
            
        const CONTRACT_TERMS_DRESS = `
            <div class="print-block">
                <p><strong>Hai b√™n th·ªëng nh·∫•t k√Ω h·ª£p ƒë·ªìng v·ªõi nh·ªØng ƒëi·ªÅu kho·∫£n nh∆∞ sau:</strong></p>
                <h3>ƒêi·ªÅu 1: N·ªôi dung d·ªãch v·ª•</h3>
                <p>B√™n B ƒë·ªìng √Ω cung c·∫•p cho B√™n A c√°c d·ªãch v·ª• nh∆∞ b·∫£ng tr√™n :</p>
                <p><strong>Hi·ªán tr·∫°ng v√°y:</strong> ...............................................................................................................................</p>
                <p><strong>Ph·ª• ki·ªán nh·∫≠n ƒë∆∞·ª£c:</strong> ....................................................................................................................</p>
                <h3>ƒêi·ªÅu 2: Ph√≠ d·ªãch v·ª• v√† ph∆∞∆°ng th·ª©c thanh to√°n</h3>
                <p><strong>H√¨nh th·ª©c c·ªçc l√†m tin:</strong></p>
                <p style="padding-left: 20px;">‚òê ƒê·∫∑t c·ªçc cƒÉn c∆∞·ªõc, gi·∫•y t·ªù xe</p>
                <p style="padding-left: 20px;">‚òê ƒê·∫∑t c·ªçc ti·ªÅn m·∫∑t</p>
                <p><strong>H√¨nh th·ª©c thanh to√°n:</strong></p>
                <p style="padding-left: 20px;">2H STUDIO - HO√ÄNG C·∫¶U: ACB - 33070607 - NGUY·ªÑN TH·ªä ANH</p>
                <h3>ƒêi·ªÅu 3: Tr√°ch nhi·ªám v√† quy·ªÅn l·ª£i c·ªßa c√°c B√™n</h3>
                <p><strong>1. Tr√°ch nhi·ªám v√† quy·ªÅn l·ª£i c·ªßa b√™n A.</strong></p>
                <ul><li>B√™n A c√≥ tr√°ch nhi·ªám thanh to√°n cho B√™n B ph√≠ d·ªãch v·ª• theo ƒêi·ªÅu 1-2 ƒë√∫ng h·∫°n.</li><li>Tr∆∞·ªùng h·ª£p b√™n A h·ªßy h·ª£p ƒë·ªìng v√°y s·∫Ω kh√¥ng ƒë∆∞·ª£c ho√†n l·∫°i ph√≠ thanh to√°n.</li><li>B√™n A ƒë∆∞·ª£c nh·∫≠n to√†n b·ªô s·∫£n ph·∫©m theo ph·∫ßn chi ti·∫øt c·ªßa h·ª£p ƒë·ªìng n√†y.</li><li>Tr∆∞·ªùng h·ª£p b√™n A l√†m v√°y b·ªã d√≠nh r∆∞·ª£u vang, ph·∫©m m√†u nhi·ªÅu tr√™n 1 b√†n tay s·∫Ω kh·∫•u hao 500-800k t√πy theo ch·∫•t li·ªáu v√°y.</li><li>Tr∆∞·ªùng h·ª£p b√™n A l√†m m·∫•t ho·∫∑c h∆∞ h·∫°i ho√†n to√†n v√°y s·∫Ω ƒë·ªÅn to√†n b·ªô ph√≠ c·ªçc l√†m tin.</li><li>Tr∆∞·ªùng h·ª£p b√™n A l√†m h∆∞ h·ªèng v√°y, b·ªã d√≠nh ch·∫•t ph·∫©m kh√¥ng gi·∫∑t ƒë∆∞·ª£c, v√°y b·ªã qu√° b·∫©n, hi·ªán tr·∫°ng v√°y kh√¥ng ƒë∆∞·ª£c nh∆∞ cam k·∫øt ·ªü ƒëi·ªÅu 1:<ul style="padding-left: 20px; list-style-type: circle;"><li>Studio gi·ªØ l·∫°i v√°y v√† c·ªçc v√°y (ch·ªù x·ª≠ l√Ω 4-5 ng√†y), x·ª≠ l√Ω ƒë∆∞·ª£c s·∫Ω ho√†n l·∫°i ph√≠ c·ªçc cho d√¢u r·ªÉ.</li><li>Tr∆∞·ªùng h·ª£p v√°y kh√¥ng x·ª≠ l√Ω ƒë∆∞·ª£c studio bu·ªôc ph·∫£i tr·ª´ kh·∫•u hao v√†o ph√≠ c·ªçc v√°y (30% - 80% ph√≠ c·ªçc v√°y).</li></ul></li><li>Tr∆∞·ªùng h·ª£p b√™n A kh√¥ng tr·∫£ ƒë·ªì ƒë√∫ng ng√†y trong h·ª£p ƒë·ªìng, chi ph√≠ ph√°t sinh l√† 500k/ 1 ng√†y.</li><li>Tr∆∞·ªùng h·ª£p b√™n A t·ª± √Ω s·ª≠a ƒë·ªì khi ch∆∞a c√≥ s·ª± ƒë·ªìng √Ω c·ªßa b√™n B, th√¨ s·∫Ω ƒë·ªÅn gi√° tr·ªã t∆∞∆°ng ·ª©ng v·ªõi ƒë·ªì ƒë√£ s·ª≠a.</li><li>Khi tr·∫£ v√°y k√®m theo h·ª£p ƒë·ªìng l·∫•y v√°y.</li></ul>
                <p><strong>2. Tr√°ch nhi·ªám v√† quy·ªÅn l·ª£i c·ªßa B√™n B.</strong></p>
                <ul><li>B√™n B c√≥ tr√°ch nhi·ªám th·ª±c hi·ªán ƒë·∫ßy ƒë·ªß c√°c n·ªôi dung nghi·ªáp v·ª• t∆∞∆°ng ·ª©ng v·ªõi c√°c d·ªãch v·ª• k√Ω k·∫øt, ƒë∆∞·ª£c ni√™m y·∫øt c√¥ng khai k√®m theo b√°o gi√°, sau khi nh·∫≠n ƒë∆∞·ª£c hi·ªán tr·∫°ng v√°y theo ƒë√∫ng quy ƒë·ªãnh ti√™u chu·∫©n nh∆∞ ƒëi·ªÅu 1 s·∫Ω ho√†n l·∫°i ph√≠ ƒë·∫∑t c·ªçc cho b√™n A.</li><li>B√™n B ƒë·∫£m b·∫£o th·ª±c hi·ªán h·ª£p ƒë·ªìng n√†y v·ªõi ch·∫•t l∆∞·ª£ng cao v√† nhi·ªát t√¨nh v·ªõi c√¥ng vi·ªác, ƒë√∫ng nguy√™n t·∫Øc minh b·∫°ch, trung th·ª±c, uy t√≠n, kh√°ch quan v√† b√≠ m·∫≠t v·ªÅ th√¥ng tin c√° nh√¢n c·ªßa kh√°ch h√†ng.</li></ul>
            </div>
            <div class="print-block">
                <h3>Cam k·∫øt th·ª±c hi·ªán</h3>
                <ul><li>Hai b√™n cam k·∫øt th·ª±c hi·ªán t·∫•t c·∫£ c√°c ƒëi·ªÅu kho·∫£n ƒë√£ ghi trong h·ª£p ƒë·ªìng.</li><li>Trong qu√° tr√¨nh th·ª±c hi·ªán n·∫øu g·∫∑p kh√≥ khƒÉn hai B√™n ph·∫£i k·ªãp th·ªùi th√¥ng b√°o cho nhau, c·∫ßn thi·∫øt th√¨ trao ƒë·ªïi b·∫±ng vƒÉn b·∫£n t√¨m gi·∫£i ph√°p th√≠ch h·ª£p.</li></ul>
                <p>H·ª£p ƒë·ªìng n√†y ƒë∆∞·ª£c l·∫≠p th√†nh 02 b·∫£n c√≥ gi√° tr·ªã nh∆∞ nhau, B√™n A gi·ªØ 01 b·∫£n, B√™n B gi·ªØ 01 b·∫£n v√† c√≥ hi·ªáu l·ª±c k·ªÉ t·ª´ ng√†y k√Ω h·ª£p ƒë·ªìng, cho ƒë·∫øn khi b√™n B ho√†n th√†nh c√°c d·ªãch v·ª• quy ƒë·ªãnh t·∫°i ƒêi·ªÅu 1 v√† B√™n A thanh to√°n xong ph√≠ d·ªãch v·ª• cho B√™n B th√¨ h·ª£p ƒë·ªìng n√†y xem nh∆∞ ƒë∆∞·ª£c thanh l√Ω ho·∫∑c c·∫£ hai b√™n c√πng th·ªëng nh·∫•t ch·∫•m d·ª©t h·ª£p ƒë·ªìng b·∫±ng vƒÉn b·∫£n.</p>
            </div>
            <div class="signature-block print-block">
                <div class="customer-signature"><p style="font-weight: 700;">Kh√°ch h√†ng</p><p style="font-size: 9pt; color: #6c757d; font-style: italic;">(K√Ω v√† ghi h·ªç t√™n)</p><p class="name" id="customer-signature-name" class="dynamic-data"></p></div><div class="staff-signature"><p style="font-weight: 700;">Nh√¢n vi√™n t∆∞ v·∫•n</p><p style="font-size: 9pt; color: #6c757d; font-style: italic;">(K√Ω v√† ghi h·ªç t√™n)</p><p class="name" id="staff-signature-name" class="dynamic-data"></p></div><div class="studio-signature"><p style="font-weight: 700;" id="studio-signature-name-top"></p><p style="font-size: 9pt; color: #6c757d; font-style: italic;">(K√Ω v√† ghi h·ªç t√™n)</p><p class="name" id="studio-signature-name-bottom"></p></div>
            </div>`;
        
        const CONTRACT_TERMS_FAMILY = `
            <div class="print-block">
                <h3>H√¨nh Th·ª©c Thanh To√°n</h3>
                <ul><li>L·∫ßn 1: 50% (ƒë·∫∑t c·ªçc)</li><li>L·∫ßn 2: 50% (cu·ªëi bu·ªïi ch·ª•p)</li></ul>
                <h3>ƒêi·ªÅu Kho·∫£n H·ª£p ƒê·ªìng</h3>
                <p><strong>Hai b√™n th·ªëng nh·∫•t k√Ω h·ª£p ƒë·ªìng v·ªõi nh·ªØng ƒëi·ªÅu kho·∫£n nh∆∞ sau:</strong></p>
                <ul><li>B√™n A c√≥ tr√°ch nhi·ªám thanh to√°n cho b√™n B ph√≠ d·ªãch v·ª• ƒë√∫ng h·∫°n theo h√¨nh th·ª©c thanh to√°n n√™u tr√™n.</li><li>B√™n A ch·ªãu r·ªßi ro s·∫£n ph·∫©m theo chi ti·∫øt c·ªßa h·ª£p ƒë·ªìng.</li><li>Tr∆∞·ªùng h·ª£p b√™n A hu·ª∑ h·ª£p ƒë·ªìng s·∫Ω m·∫•t to√†n b·ªô ph√≠ c·ªçc.</li><li>B√™n A ƒë∆∞·ª£c quy·ªÅn ch·ªçn ch·ª•p h√¨nh 1 l·∫ßn m√† kh√¥ng b·ªã t√≠nh ph√≠ nh∆∞ng ph·∫£i b√°o tr∆∞·ªõc ng√†y ch·ª•p 5 ng√†y.</li><li>B√™n B ƒë·∫£m b·∫£o th·ª±c hi·ªán h·ª£p ƒë·ªìng n√†y v·ªõi ch·∫•t l∆∞·ª£ng cao v√† nhi·ªát t√¨nh, v·ªõi c√¥ng vi·ªác, trung th·ª±c, uy t√≠n, kh√°ch quan v√† b·∫£o m·∫≠t v·ªÅ th√¥ng tin c·ªßa kh√°ch h√†ng.</li></ul>
                <p><strong>L∆∞u √Ω:</strong> G√≥i ch·ª•p ch·ªâ √°p d·ª•ng cho c√°c trang ph·ª•c v√† concept c√≥ s·∫µn t·∫°i studio, c√°c concept kh√°c theo s·ªü th√≠ch setup th√™m c·ªßa kh√°ch s·∫Ω t·ª± thu√™ ho·∫∑c studio thu√™ h·ªô v√† tr·∫£ ph√≠.</p>
            </div>
            <div class="print-block">
                <h3>Cam k·∫øt th·ª±c hi·ªán</h3>
                <ul><li>Hai b√™n cam k·∫øt th·ª±c hi·ªán t·∫•t c·∫£ c√°c ƒëi·ªÅu kho·∫£n ƒë√£ ghi trong h·ª£p ƒë·ªìng.</li><li>Trong qu√° tr√¨nh th·ª±c hi·ªán n·∫øu g·∫∑p kh√≥ khƒÉn hai B√™n ph·∫£i k·ªãp th·ªùi th√¥ng b√°o cho nhau, c·∫ßn thi·∫øt th√¨ trao ƒë·ªïi b·∫±ng vƒÉn b·∫£n t√¨m gi·∫£i ph√°p th√≠ch h·ª£p.</li></ul>
                <p>H·ª£p ƒë·ªìng n√†y ƒë∆∞·ª£c l·∫≠p th√†nh 02 b·∫£n c√≥ gi√° tr·ªã nh∆∞ nhau, B√™n A gi·ªØ 01 b·∫£n, B√™n B gi·ªØ 01 b·∫£n v√† c√≥ hi·ªáu l·ª±c k·ªÉ t·ª´ ng√†y k√Ω h·ª£p ƒë·ªìng, cho ƒë·∫øn khi b√™n B ho√†n th√†nh c√°c d·ªãch v·ª• quy ƒë·ªãnh t·∫°i ƒêi·ªÅu 1 v√† B√™n A thanh to√°n xong ph√≠ d·ªãch v·ª• cho B√™n B th√¨ h·ª£p ƒë·ªìng n√†y xem nh∆∞ ƒë∆∞·ª£c thanh l√Ω ho·∫∑c c·∫£ hai b√™n c√πng th·ªëng nh·∫•t ch·∫•m d·ª©t h·ª£p ƒë·ªìng b·∫±ng vƒÉn b·∫£n.</p>
                <ul><li>C√°c ƒëi·ªÅu kho·∫£n d·ªãch v·ª• ƒë∆∞·ª£c s·ª≠ d·ª•ng trong v√≤ng 1 nƒÉm t√≠nh t·ª´ ng√†y k√Ω h·ª£p ƒë·ªìng.</li></ul>
            </div>
             <div class="signature-block print-block">
                <div class="customer-signature"><p style="font-weight: 700;">Kh√°ch h√†ng</p><p style="font-size: 9pt; color: #6c757d; font-style: italic;">(K√Ω v√† ghi h·ªç t√™n)</p><p class="name" id="customer-signature-name" class="dynamic-data"></p></div><div class="staff-signature"><p style="font-weight: 700;">Nh√¢n vi√™n t∆∞ v·∫•n</p><p style="font-size: 9pt; color: #6c757d; font-style: italic;">(K√Ω v√† ghi h·ªç t√™n)</p><p class="name" id="staff-signature-name" class="dynamic-data"></p></div><div class="studio-signature"><p style="font-weight: 700;" id="studio-signature-name-top"></p><p style="font-size: 9pt; color: #6c757d; font-style: italic;">(K√Ω v√† ghi h·ªç t√™n)</p><p class="name" id="studio-signature-name-bottom"></p></div>
            </div>`;

        function removeVietnameseTones(str) {if(!str)return"";str=str.replace(/√†|√°|·∫°|·∫£|√£|√¢|·∫ß|·∫•|·∫≠|·∫©|·∫´|ƒÉ|·∫±|·∫Ø|·∫∑|·∫≥|·∫µ/g,"a");str=str.replace(/√®|√©|·∫π|·∫ª|·∫Ω|√™|·ªÅ|·∫ø|·ªá|·ªÉ|·ªÖ/g,"e");str=str.replace(/√¨|√≠|·ªã|·ªâ|ƒ©/g,"i");str=str.replace(/√≤|√≥|·ªç|·ªè|√µ|√¥|·ªì|·ªë|·ªô|·ªï|·ªó|∆°|·ªù|·ªõ|·ª£|·ªü|·ª°/g,"o");str=str.replace(/√π|√∫|·ª•|·ªß|≈©|∆∞|·ª´|·ª©|·ª±|·ª≠|·ªØ/g,"u");str=str.replace(/·ª≥|√Ω|·ªµ|·ª∑|·ªπ/g,"y");str=str.replace(/ƒë/g,"d");str=str.replace(/√Ä|√Å|·∫†|·∫¢|√É|√Ç|·∫¶|·∫§|·∫¨|·∫®|·∫™|ƒÇ|·∫∞|·∫Æ|·∫∂|·∫≤|·∫¥/g,"A");str=str.replace(/√à|√â|·∫∏|·∫∫|·∫º|√ä|·ªÄ|·∫æ|·ªÜ|·ªÇ|·ªÑ/g,"E");str=str.replace(/√å|√ç|·ªä|·ªà|ƒ®/g,"I");str=str.replace(/√í|√ì|·ªå|·ªé|√ï|√î|·ªí|·ªê|·ªò|·ªî|·ªñ|∆†|·ªú|·ªö|·ª¢|·ªû|·ª†/g,"O");str=str.replace(/√ô|√ö|·ª§|·ª¶|≈®|∆Ø|·ª™|·ª®|·ª∞|·ª¨|·ªÆ/g,"U");str=str.replace(/·ª≤|√ù|·ª¥|·ª∂|·ª∏/g,"Y");str=str.replace(/ƒê/g,"D");str=str.replace(/\u0300|\u0301|\u0303|\u0309|\u0323/g,"");str=str.replace(/\u02C6|\u0306|\u031B/g,"");return str.trim()}
        function readNumberInVietnamese(number) { const units=["","m·ªôt","hai","ba","b·ªën","nƒÉm","s√°u","b·∫£y","t√°m","ch√≠n"],groupUnits=[""," ngh√¨n"," tri·ªáu"," t·ª∑"," ngh√¨n t·ª∑"," tri·ªáu t·ª∑"];function convertBlock(e){if("000"===e)return"";let t=parseInt(e[0]),r=parseInt(e[1]),n=parseInt(e[2]),i="";return t>0&&(i+=units[t]+" trƒÉm"),0===r&&n>0?i+=t>0?" linh "+units[n]:units[n]:1===r?(i+=" m∆∞·ªùi",5===n?i+=" lƒÉm":n>0&&(i+=" "+units[n])):r>1&&(i+=" "+units[r]+" m∆∞∆°i",1===n?i+=" m·ªët":5===n?i+=" lƒÉm":n>0&&(i+=" "+units[n])),i.trim()}let numStr=String(parseInt(number,10));if("0"===numStr)return"Kh√¥ng ƒë·ªìng";let chunks=[];for(;numStr.length>0;)chunks.unshift(numStr.slice(-3)),numStr=numStr.slice(0,-3);const result=chunks.map((e,t)=>{for(;e.length<3;)e="0"+e;const r=convertBlock(e);if(!r)return"";let n=groupUnits[chunks.length-1-t];return 0===parseInt(e)&&" ngh√¨n"===n?"":r+n}).filter(Boolean).join(" ");return(result.charAt(0).toUpperCase()+result.slice(1)).trim()+" ƒë·ªìng"}
        const BANK_MAP={"970422":"MBBank","970436":"Vietcombank","970415":"Vietinbank","970403":"BIDV","970418":"Techcombank","970448":"OCB","970405":"AgriBank","970432":"VPBank","970423":"TPBank"};
        
        document.addEventListener('DOMContentLoaded', function(){
            injectHTMLStructure();
            renderContractTerms('service'); 

            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('ma_hd') && urlParams.get('ma_hd').trim() !== '') {
                populateFromUrl(urlParams);
            } else {
                runDemoMode();
            }
            
            function setupDropdowns() {
                const dropdownBtns = document.querySelectorAll('.dropdown-btn');
                
                dropdownBtns.forEach(btn => {
                    btn.addEventListener('click', function(event) {
                        event.stopPropagation();
                        closeAllDropdowns(this.nextElementSibling);
                        this.nextElementSibling.classList.toggle('show');
                    });
                });
                
                document.getElementById('print-service-action').addEventListener('click', (e) => { e.preventDefault(); renderContractTerms('service'); setTimeout(() => window.print(), 100); });
                document.getElementById('print-dress-action').addEventListener('click', (e) => { e.preventDefault(); renderContractTerms('dress'); setTimeout(() => window.print(), 100); });
                document.getElementById('print-family-action').addEventListener('click', (e) => { e.preventDefault(); renderContractTerms('family'); setTimeout(() => window.print(), 100); });

                document.getElementById('download-service-action').addEventListener('click', (e) => { e.preventDefault(); downloadAsPdf('service', 'HD_Dich_Vu'); });
                document.getElementById('download-dress-action').addEventListener('click', (e) => { e.preventDefault(); downloadAsPdf('dress', 'HD_Vay'); });
                document.getElementById('download-family-action').addEventListener('click', (e) => { e.preventDefault(); downloadAsPdf('family', 'HD_Baby_GD'); });
            }

            function closeAllDropdowns(exceptThisOne = null) {
                const dropdowns = document.querySelectorAll('.dropdown-content');
                dropdowns.forEach(dropdown => {
                    if (dropdown !== exceptThisOne && dropdown.classList.contains('show')) {
                        dropdown.classList.remove('show');
                    }
                });
            }

            window.onclick = function(event) {
                if (!event.target.matches('.dropdown-btn')) {
                    closeAllDropdowns();
                }
            }
            
            setupDropdowns();

            function populateFromUrl(params) {
                 const paramToIdMap = { 
                     ten_studio: ['studio-name', 'studio-signature
